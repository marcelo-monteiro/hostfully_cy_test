# Automated Web Tests Suite with Cypress
This test suite runs only in a local environment.
The required Node.js version for running tests is >=18.16.1.
All dependencies must be installed locally:

```sh
yarn install
```
In this project, the reporter used is Allure. To install it, execute the following command:
```sh
yarn global add allure-commandline
```

**Test Porject Structure**

```sh
.
├── README.md
├── cypress
│   ├── e2e
│   │   └── add_new_computer_page.feature
│   ├── fixtures
│   │   ├── dictionary.yaml
│   │   └── example.json
│   ├── screenshots
│   ├── support
│   │   ├── commands.js
│   │   ├── e2e.js
│   │   └── step_definitions
│   │       ├── commom_steps.js
│   │       ├── computer_page_setps.js
│   │       └── hooks.js
│   └── videos
├── cypress.config.js
├── docs
│   └── summary.md
├── package.json
└── yarn.lock
```

## Directory and File Structure

- **`README.md`**
  - A Markdown file that provides an overview of the project, including instructions for setting up, running tests, and any other important information about the project.

- **`cypress/`**
  - The main directory for Cypress tests, configurations, and related resources.
  - **`e2e/`**: Contains end-to-end test files. These are typically written in Gherkin syntax for BDD projects (`*.feature` files) or JavaScript/TypeScript for other test types.
    - `add_new_computer_page.feature`: A Gherkin feature file that defines test scenarios for adding a new computer in the application.
  - **`fixtures/`**: Stores static data used in tests to help simulate data that your application might load or interact with.
    - `dictionary.yaml`: A YAML file that could contain selectors, URLs, or other test data, making tests easier to maintain.
    - `example.json`: A JSON file for structured test data that can be imported into tests.
  - **`screenshots/`**: Automatically generated screenshots are saved here, typically captured when tests fail, to aid in debugging.
  - **`support/`**: Contains files that customize or extend Cypress' behavior.
    - `commands.js`: Used to add custom commands to Cypress, enhancing its functionality and making tests more readable.
    - `e2e.js`: Additional setup specific to end-to-end testing might be defined here.
    - **`step_definitions/`**: Contains JavaScript/TypeScript files that define the steps for BDD `*.feature` files.
      - `common_steps.js`: Step definitions that are common across multiple features.
      - `computer_page_steps.js`: Step definitions specific to the `add_new_computer_page.feature`.
      - `hooks.js`: Defines hooks (like before, after, beforeEach, afterEach) for setting up conditions or cleanup after tests.
  - **`videos/`**: Directory where videos of test runs are stored, providing a visual record of tests (if video recording is enabled in Cypress configuration).

- **`cypress.config.js`**
  - The configuration file for Cypress where global settings, plugins, and other options for your tests are specified.

  - **`docs/`**
  - This directory contains additional documentation related to the project.
  - **`summary.md`**: Document that provides a summary of the project's findings, encountered issues, and their resolutions.

- **`package.json`**
  - Manages npm package dependencies for the project and defines scripts for running tests and other tasks.

- **`yarn.lock`**
  - Automatically generated by Yarn to lock the versions of installed packages, ensuring consistent installations across environments.


## Running Front-End Tests

All dependencies for tests are listed in `package.json`, which will be installed by running the yarn command.

All tests will be performed in the Chrome browser, defined as the default in `package.json` scripts. 

To perform front-end tests, please run the following commands in the root directory after installing all dependencies:

```sh
# Open Cypress to execute tests in the GUI 
$ yarn open 

# To run e2e tests headlessly and with an allure report
$ yarn tests:report
```

##### Maintainability

The tests were scripted using "dictionary.yaml" for selectors, to maintain an easy-to-update pattern when handling code changes.

#### Opening the Report

For the front-end test suite, the reports are generated using Allure (dependencies listed in `package.json`), but it requires JDK in order to open the report correctly.
After performing the front-end tests, executing the commands below will open the report in your browser:

```sh
# To open the report 
$ allure serve
```

## Next Steps

This project only tests features related to adding a new computer, but it could include more scenarios like finding the newly added computer, navigating the dashboard, etc.

This structure does not use complex solutions like OOP, componentization, and other design principles.
E.g., For the adding computer functionalities, it is possible to create a class to perform these methods and use them in the tests, avoiding duplicating code lines.

Also, it is possible to run these tests in an isolated environment using Docker, which is recommendable and more reliable for preventing environment errors, like dependencies and libraries.